@using Coursework.Domain.Entities;

<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.CarRental" Class="mr-3 mb-n1" />
            Ready to experience a thrill of @car.Name
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudGrid>
            <MudItem xs="6">
                <MudPaper Elevation="4" Outlined="true" Class="mud-width-full py-8">
                    <div class="container-fluid card-image mt-2  d-flex justify-content-center">
                        <img width="500" class="object-fit-contain hover-image mx-auto rounded mt-3"
                             src=@car.Image />
                    </div>
                    <div class="mx-auto d-flex justify-end mt-5 mr-5">
                        <div class="mr-5">
                            <span>Rs.</span>
                            <span class="fw-bold fs-5">2000</span>
                            <span class="fs-6 text-secondary">/ DAY</span>
                        </div>
</div>
                        <div class="mx-auto d-flex justify-content-center mt-5">
                            <MudText Class="mx-auto ">
                                @car.Description
                            </MudText>
                        </div>
                </MudPaper>
            </MudItem>
            <MudItem  xs="6">
                <MudPaper Elevation="4" Outlined="true" Class="d-flex align-center justify-center mud-width-full py-8">
                    <div>

                    <MudText Class="mb-5">Book Information</MudText>
                    <MudDateRangePicker @ref="_picker" Label="Booking Date" @bind-DateRange="_dateRange" AutoClose="@_autoClose">
                        <PickerActions>
                            <MudButton Class="mr-auto align-self-start" OnClick="@(() => _picker.Clear())">Clear</MudButton>
                            <MudButton OnClick="@(() => _picker.Close(false))">Cancel</MudButton>
                            <MudButton Color="Color.Primary" OnClick="@(() => _picker.Close())">Ok</MudButton>
                        </PickerActions>
                    </MudDateRangePicker>
                    </div>
                </MudPaper>
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Error" OnClick="DeleteServer">Book Now</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }

    [Parameter]
    public Cars car { get; set; } = new Cars();

    private void Cancel()
    {
        MudDialog.Cancel();
    }

    private void DeleteServer()
    {

        MudDialog.Close(DialogResult.Ok(car.Id));
    }
    private MudDateRangePicker _picker;
    private DateRange _dateRange = new DateRange(DateTime.Now.Date, DateTime.Now.AddDays(5).Date);
    private bool _autoClose;
}
